INFO:     Will watch for changes in these directories: ['/Users/anupdangi/Desktop/AnupAI/projects/SmartAIInterviewer/backend']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [48153] using WatchFiles
INFO:     Started server process [48351]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
2025-11-30 19:35:41,254 - sai_interviewer - INFO - [ADK] Initialized CoordinatorAgent with model: gemini-2.5-flash
2025-11-30 19:35:41,489 - sai_interviewer - DEBUG - [ADK] Session state managed by ADK Runner via state_delta
2025-11-30 19:35:41,489 - sai_interviewer - INFO - [ADK] Switching model from gemini-2.5-flash to gemini-2.5-pro
2025-11-30 19:35:41,489 - sai_interviewer - INFO - [API_CALL] Using gemini-2.5-pro for intro stage
2025-11-30 19:35:41,489 - sai_interviewer - DEBUG - [ADK] Generating response with model: gemini-2.5-pro
2025-11-30 19:35:41,490 - sai_interviewer - DEBUG - [ADK] System instruction: True
2025-11-30 19:35:41,490 - sai_interviewer - DEBUG - [ADK] User message length: 345 chars
2025-11-30 19:35:41,490 - sai_interviewer - DEBUG - [ADK] Session ID: 369a354e-edb0-4615-8256-c7d01f722ce5
2025-11-30 19:35:41,491 - sai_interviewer - DEBUG - [ADK] Created Runner for CoordinatorAgent with model: gemini-2.5-pro
2025-11-30 19:35:41,491 - sai_interviewer - DEBUG - [ADK] Session 369a354e-edb0-4615-8256-c7d01f722ce5 already exists in service 4902055152
2025-11-30 19:35:41,553 - google_adk.google.adk.models.google_llm - INFO - Sending out request, model: gemini-2.5-pro, backend: GoogleLLMVariant.GEMINI_API, stream: False
2025-11-30 19:35:41,553 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Request:
-----------------------------------------------------------
System Instruction:
You are a thoughtful senior technical interviewer. Your job: run a realistic, adaptive 1-on-1 interview that feels human.

Current Stage: INTRO
Candidate Name: there

High-level rules:
1. Always greet the candidate by name.
2. Reference one concrete item from the CV or JD early to show familiarity.
3. Keep answers concise (question length 1–3 sentences).
4. Maintain a friendly, professional tone.

Stage behavior:
- Greet: "Hello there, glad to meet you."
- Reference one CV highlight if available.
- Prompt: Ask for a 60–90 second self-introduction focused on impact and responsibilities.

End with a single QUESTION line.

You are an agent. Your internal name is "coordinator".
-----------------------------------------------------------
Config:
{}
-----------------------------------------------------------
Contents:
{"parts":[{"text":"Generate a warm, personalized opening greeting and question.\n\nGreet there by name.\nReference one concrete item from their CV/JD if available to show familiarity.\nAsk for a 60–90 second self-introduction focused on impact and responsibilities.\nKeep it friendly and professional (2-3 sentences max).\n\nFormat:\nQUESTION: [your greeting and question]"}],"role":"user"}
-----------------------------------------------------------
Functions:

-----------------------------------------------------------

2025-11-30 19:35:41,553 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
2025-11-30 19:35:49,208 - google_adk.google.adk.models.google_llm - INFO - Response received from the model.
2025-11-30 19:35:49,208 - google_adk.google.adk.models.google_llm - DEBUG - 
LLM Response:
-----------------------------------------------------------
Text:
QUESTION: Hello there, glad to meet you. I was looking over your resume and was really interested in your work on the real-time data processing pipeline; it sounds like a fascinating project. To get us started, could you please give me a 60-90 second overview of your background, focusing on your key responsibilities and the impact you've had in your recent roles?
-----------------------------------------------------------
Function calls:

-----------------------------------------------------------
Raw response:
{"sdk_http_response":{"headers":{"Content-Type":"application/json; charset=UTF-8","Vary":"Origin, X-Origin, Referer","Content-Encoding":"gzip","Date":"Sun, 30 Nov 2025 14:05:49 GMT","Server":"scaffolding on HTTPServer2","X-XSS-Protection":"0","X-Frame-Options":"SAMEORIGIN","X-Content-Type-Options":"nosniff","Server-Timing":"gfet4t7; dur=7465","Alt-Svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","Transfer-Encoding":"chunked"}},"candidates":[{"content":{"parts":[{"text":"QUESTION: Hello there, glad to meet you. I was looking over your resume and was really interested in your work on the real-time data processing pipeline; it sounds like a fascinating project. To get us started, could you please give me a 60-90 second overview of your background, focusing on your key responsibilities and the impact you've had in your recent roles?"}],"role":"model"},"finish_reason":"STOP","index":0}],"model_version":"gemini-2.5-pro","response_id":"PU8sab3sAfK7juMPmNHvoAo","usage_metadata":{"candidates_token_count":80,"prompt_token_count":248,"prompt_tokens_details":[{"modality":"TEXT","token_count":248}],"thoughts_token_count":570,"total_token_count":898},"automatic_function_calling_history":[]}
-----------------------------------------------------------

2025-11-30 19:35:49,208 - sai_interviewer - ERROR - [ADK-DEBUG] Event type: <class 'google.adk.events.event.Event'>
2025-11-30 19:35:49,208 - sai_interviewer - ERROR - [ADK-DEBUG] Event dir: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__firstlineno__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_computed_fields__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_on_complete__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_setattr_handlers__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__replace__', '__repr__', '__repr_args__', '__repr_name__', '__repr_recursion__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__static_attributes__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_copy_and_set_values', '_get_value', '_iter', '_setattr_handler', 'actions', 'author', 'avg_logprobs', 'branch', 'cache_metadata', 'citation_metadata', 'construct', 'content', 'copy', 'create', 'custom_metadata', 'dict', 'error_code', 'error_message', 'finish_reason', 'from_orm', 'get_function_calls', 'get_function_responses', 'grounding_metadata', 'has_trailing_code_execution_result', 'id', 'input_transcription', 'interrupted', 'invocation_id', 'is_final_response', 'json', 'live_session_resumption_update', 'logprobs_result', 'long_running_tool_ids', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'model_version', 'new_id', 'output_transcription', 'parse_file', 'parse_obj', 'parse_raw', 'partial', 'schema', 'schema_json', 'timestamp', 'turn_complete', 'update_forward_refs', 'usage_metadata', 'validate']
2025-11-30 19:35:49,208 - sai_interviewer - ERROR - [ADK-DEBUG] Event content: parts=[Part(
  text="QUESTION: Hello there, glad to meet you. I was looking over your resume and was really interested in your work on the real-time data processing pipeline; it sounds like a fascinating project. To get us started, could you please give me a 60-90 second overview of your background, focusing on your key responsibilities and the impact you've had in your recent roles?"
)] role='model'
2025-11-30 19:35:49,208 - sai_interviewer - ERROR - [ADK-DEBUG] Part dir: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__firstlineno__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_computed_fields__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_on_complete__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_setattr_handlers__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__replace__', '__repr__', '__repr_args__', '__repr_name__', '__repr_recursion__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__static_attributes__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_copy_and_set_values', '_from_response', '_get_value', '_iter', '_setattr_handler', 'as_image', 'code_execution_result', 'construct', 'copy', 'dict', 'executable_code', 'file_data', 'from_bytes', 'from_code_execution_result', 'from_executable_code', 'from_function_call', 'from_function_response', 'from_orm', 'from_text', 'from_uri', 'function_call', 'function_response', 'inline_data', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'schema', 'schema_json', 'text', 'thought', 'thought_signature', 'to_json_dict', 'update_forward_refs', 'validate', 'video_metadata']
2025-11-30 19:35:49,208 - sai_interviewer - ERROR - [ADK-DEBUG] Part text: 'QUESTION: Hello there, glad to meet you. I was looking over your resume and was really interested in your work on the real-time data processing pipeline; it sounds like a fascinating project. To get us started, could you please give me a 60-90 second overview of your background, focusing on your key responsibilities and the impact you've had in your recent roles?'
2025-11-30 19:35:49,208 - sai_interviewer - INFO - [ADK] ✅ Successfully generated response (365 chars)
Database tables created successfully
Migration skipped: session_run_id column already exists
Database initialized
Uploads directory: /Users/anupdangi/Desktop/AnupAI/projects/SmartAIInterviewer/backend/uploads
[DEBUG] Starting interview dfac09a1-5dd3-4919-88a6-4c429453e402, session_run_id: 369a354e-edb0-4615-8256-c7d01f722ce5
[DEBUG] Generated opening question: QUESTION: Hello there, glad to meet you. I was looking over your resume and was really interested in...
[DEBUG] Saved opening session: 93d83d21-8fbd-4990-9bcd-80f934eca508 for new session_run_id: 369a354e-edb0-4615-8256-c7d01f722ce5
INFO:     127.0.0.1:54830 - "POST /api/interviews/dfac09a1-5dd3-4919-88a6-4c429453e402/start HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'src/agents/base.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [48351]
INFO:     Started server process [50437]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
